{% extends "base_auth.html" %}
{% load static %}

{% block content %}
<style>
    .is-invalid {
        border: 1px solid red !important;
    }

    .invalid-feedback {
        color: red !important;
        font-size: 12px;
        display: block !important;
    }

    .showPasswordToggle:hover {
        transform: scale(1.2);
        cursor: pointer;
    }
</style>

<div class="row justify-content-center">
    <div class="col-md-5">
        <div class="card mt-5 shadow-lg" style="border-radius: 15px; border: none;">
            <div class="card-body p-4">
                <div class="card-header text-center py-4" style="background: none; border: none;">
                    <h2 class="card-title font-weight-bold" style="color: #2c3e50;">Set New Password</h2>
                    <p class="text-muted">Enter your new password</p>
                </div>

                <form action="{% url 'reset-user-password' uidb64=uidb64 token=token %}" method="post">
                    {% csrf_token %}

                    {% include "partials/_messages.html" %}

                    <!-- Password Field -->
                    <div class="form-group mb-4 position-relative">
                        <input 
                            type="password"
                            name="password"
                            id="passwordField"
                            placeholder="Password"
                            class="form-control form-control-lg"
                            style="border-radius: 10px; border: 1px solid #ced4da;"
                        />
                        <small class="position-absolute end-0 top-50 translate-middle-y me-3 showPasswordToggle" style="cursor: pointer; color: #3498db;">SHOW</small>
                    </div>

                    <!-- Confirm Password Field -->
                    <div class="form-group mb-4 position-relative">
                        <input 
                            type="password"
                            name="password2"
                            id="passwordField2"
                            placeholder="Confirm Password"
                            class="form-control form-control-lg"
                            style="border-radius: 10px; border: 1px solid #ced4da;"
                        />
                        <small class="position-absolute end-0 top-50 translate-middle-y me-3 showPasswordToggle" style="cursor: pointer; color: #3498db;">SHOW</small>
                    </div>

                    <!-- Submit Button -->
                    <input 
                        type="submit" 
                        value="Reset Password" 
                        class="btn btn-primary btn-block submit-btn py-2"
                        style="border-radius: 10px; font-size: 1.1rem; background-color: #3498db; border: none;"
                    />
                </form>

                <!-- Login Link -->
                <div class="text-center mt-4">
                    <p class="text-muted">Already have an account? <a href="{% url 'login' %}" style="color: #3498db;">Login here</a></p>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="{% static 'js/register.js' %}"></script>
{% endblock content %}